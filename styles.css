:root{
  --bg:#0f1221;
  --ink:#eef1ff;
  --muted:#b8c0ff;
  --accent:#7c5cff;
  --accent-2:#17d1ff;
  --card:#1a1f39;
  --card-edge:#0b0f25;
  --ok:#19d67c;
  --warn:#ffb02e;

  --radius:16px;
  --radius-sm:12px;
  --shadow-sm: 0 4px 12px rgba(0,0,0,.2);
  --shadow:    0 12px 28px rgba(0,0,0,.28);
  --shadow-up: 0 -10px 24px rgba(0,0,0,.22);
}

*{box-sizing:border-box}
html,body{height:100%}
body{
  margin:0;
  font-family:Inter, system-ui, -apple-system, Segoe UI, Roboto, Arial, sans-serif;
  color:var(--ink);
  background: radial-gradient(1200px 800px at 80% -20%, rgba(124,92,255,.25), transparent 60%),
             radial-gradient(1000px 600px at 10% -10%, rgba(23,209,255,.18), transparent 55%),
             var(--bg);
  line-height:1.5;
}

.container{width:min(1100px, 92%); margin-inline:auto}

.elev-2{box-shadow:var(--shadow-sm)}
.elev-3{box-shadow:var(--shadow)}

#topbar{
  position:sticky; top:0; z-index:1000;
  backdrop-filter: blur(10px);
  background: rgba(15,18,33,.7);
  border-bottom: 1px solid rgba(255,255,255,.06);
}
#topbar .container{
  display:flex; align-items:center; gap:16px; padding:14px 0;
  justify-content:space-between;
  flex-wrap:wrap;
}

.segmented{
  display:inline-flex; border-radius:999px; overflow:hidden;
  border:1px solid rgba(255,255,255,.12);
}
.seg-btn{
  padding:10px 16px; font-weight:600; color:var(--muted);
  background:transparent; border:0; cursor:pointer; transition: all .25s ease;
}
.seg-btn.left{border-right:1px solid rgba(255,255,255,.12); border-radius:999px 0 0 999px;}
.seg-btn.right{border-radius:0 999px 999px 0;}
.seg-btn.active{
  color:var(--ink);
  background: linear-gradient(90deg, rgba(124,92,255,.45), rgba(23,209,255,.35));
}

#controls{display:flex; align-items:center; gap:14px; flex-wrap:wrap}
.ctrl{
  font-size:14px; color:var(--muted);
  display:flex; align-items:center; gap:8px;
}
select{
  background:var(--card); border:1px solid rgba(255,255,255,.12); color:var(--ink);
  padding:8px 10px; border-radius:10px;
}

#timelineWrap{
  position:relative; min-height:220vh; /* tall to allow scroll-time mapping */
  padding:18vh 0 30vh;
}

/* Timeline rail + cursor */
#rail{
  position:fixed; left:50%; transform:translateX(-50%);
  top:0; bottom:0; width:5px; background:linear-gradient(to bottom, rgba(255,255,255,.18), rgba(255,255,255,.04));
  border-radius:999px; z-index:0; opacity:.8;
}
#railFill{
  position:absolute; left:0; top:0; width:100%; height:0%;
  background:linear-gradient(to bottom, var(--accent), var(--accent-2));
  border-radius:999px;
}
#dateCursor{
  position:fixed; left:50%; transform:translate(-50%,-50%);
  top:50vh; width:auto; z-index:10;
}
#cursorBadge{
  background:linear-gradient(90deg, rgba(124,92,255,.8), rgba(23,209,255,.8));
  color:white; padding:8px 12px; border-radius:999px; font-weight:700;
  font-size:14px; white-space:nowrap; border:1px solid rgba(255,255,255,.25);
}

/* Zones */
#pastZone, #upcomingZone{position:relative; z-index:1}
#pastZone{padding-bottom:30vh}
#upcomingZone{padding-top:30vh}

#activeZone{
  position:sticky; top:calc(50vh - 140px); /* center-ish */
  height:280px; display:grid; place-items:center; z-index:5; pointer-events:none;
}
#activeStack{position:relative; width:min(800px, 92%); height:100%;}

/* Cards */
.entry{
  position:relative;
  background: linear-gradient(180deg, rgba(26,31,57,1), rgba(11,15,37,1));
  color:var(--ink);
  border-radius: var(--radius);
  border:1px solid rgba(255,255,255,.08);
  box-shadow: var(--shadow);
  padding:16px 18px;
  max-width:780px;
  margin:18px auto;
  opacity:0;
  transform: translateX(40px);
  transition: transform .45s cubic-bezier(.2,.8,.2,1), opacity .45s ease, filter .3s ease;
  filter: drop-shadow(0 8px 24px rgba(0,0,0,.25));
}
.entry.revealed{
  opacity:1; transform: translateX(0);
}
.entry h3{margin:.2rem 0 .25rem; font-size:18px}
.entry .meta{color:var(--muted); font-size:13px; margin-bottom:.5rem}
.entry .tags{display:flex; flex-wrap:wrap; gap:6px; margin-top:.25rem}
.tag{
  font-size:12px; padding:4px 8px; border-radius:999px;
  background:rgba(124,92,255,.18); border:1px solid rgba(124,92,255,.45);
}

/* Active stack positioning (layered) */
.entry.active{
  position:absolute; left:50%; transform:translate(-50%, 0);
  width:100%; pointer-events:auto;
}
.entry.active.layer{
  transform: translate(-50%, calc(var(--offsetY, 0px)));
  transition: transform .35s ease, opacity .35s ease, filter .35s ease, z-index .35s linear;
}
.entry.dropping{ /* when ending: drop behind others */
  filter:brightness(.85) blur(.2px);
  transform: translate(-50%, calc(var(--offsetY, 0px) + 18px)) scale(.995);
}

/* Past/upcoming appearance */
#pastZone .entry.revealed,
#upcomingZone .entry.revealed{opacity:1; transform: none}

/* Skills */
#skills{padding:48px 0}
.grid{
  display:grid; gap:18px;
  grid-template-columns: repeat(auto-fit, minmax(260px, 1fr));
}
.skill-card{
  background: linear-gradient(160deg, rgba(124,92,255,.18), rgba(23,209,255,.16));
  border:1px solid rgba(255,255,255,.12);
  border-radius: var(--radius);
  padding:16px;
  box-shadow: var(--shadow);
  transform: translateY(24px); opacity:0;
  transition: transform .5s cubic-bezier(.2,.8,.2,1), opacity .5s ease;
}
.skill-card.show{transform:none; opacity:1}
.skill-card h4{margin:.2rem 0 .6rem}
.badges{display:flex; flex-wrap:wrap; gap:8px}
.badge{
  padding:6px 10px; border-radius:999px; font-size:12px; font-weight:600;
  color:white; border:1px solid rgba(255,255,255,.18);
  background: linear-gradient(90deg, rgba(23,209,255,.55), rgba(124,92,255,.55));
}

/* Visibility toggling */
.hidden{display:none}

/* Footer */
footer{color:var(--muted); padding:28px 0 40px; text-align:center}
